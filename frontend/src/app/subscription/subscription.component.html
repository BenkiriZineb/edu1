<div class="subscription-container">
  <div class="subscription-header">
    <h1>Inscription</h1>
    <p>Rejoignez notre plateforme éducative</p>
  </div>

  <!-- Onglets de sélection -->
  <div class="subscription-tabs">
    <button 
      class="tab-btn" 
      [class.active]="activeTab === 'student'"
      (click)="setActiveTab('student')">
      <span class="tab-icon">👨‍🎓</span>
      Étudiant
    </button>
    <button 
      class="tab-btn" 
      [class.active]="activeTab === 'teacher'"
      (click)="setActiveTab('teacher')">
      <span class="tab-icon">👨‍🏫</span>
      Enseignant
    </button>
  </div>

  <!-- Formulaire Étudiant -->
  <div class="form-container" *ngIf="activeTab === 'student'">
    <form [formGroup]="studentForm" (ngSubmit)="onStudentSubmit()" class="subscription-form">
      <h2>Inscription Étudiant</h2>
      
      <div class="form-row">
        <div class="form-group">
          <label for="studentNom">Nom *</label>
          <input 
            type="text" 
            id="studentNom" 
            formControlName="nom" 
            placeholder="Votre nom">
        </div>
        
        <div class="form-group">
          <label for="studentPrenom">Prénom *</label>
          <input 
            type="text" 
            id="studentPrenom" 
            formControlName="prenom" 
            placeholder="Votre prénom">
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="studentDateNaissance">Date de naissance *</label>
          <input 
            type="date" 
            id="studentDateNaissance" 
            formControlName="dateNaissance">
        </div>
        
        <div class="form-group">
          <label for="studentSexe">Sexe *</label>
          <select id="studentSexe" formControlName="sexe">
            <option value="">Sélectionner</option>
            <option value="M">Masculin</option>
            <option value="F">Féminin</option>
          </select>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="studentNationalite">Nationalité *</label>
          <input 
            type="text" 
            id="studentNationalite" 
            formControlName="nationalite" 
            placeholder="Votre nationalité">
        </div>
        
        <div class="form-group">
          <label for="studentTele">Téléphone *</label>
          <input 
            type="tel" 
            id="studentTele" 
            formControlName="tele" 
            placeholder="Votre numéro de téléphone">
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="studentEmail">Email *</label>
          <input 
            type="email" 
            id="studentEmail" 
            formControlName="email" 
            placeholder="Votre email">
        </div>
        
        <div class="form-group">
          <label for="studentNiveauScolaire">Niveau scolaire *</label>
          <select id="studentNiveauScolaire" formControlName="niveauScolaire">
            <option value="">Sélectionner</option>
            <option value="prescolaire">Préscolaire</option>
            <option value="primaire">Primaire</option>
            <option value="college">Collège</option>
            <option value="lycee">Lycée</option>
            <option value="superieur">Supérieur</option>
          </select>
        </div>
      </div>

      <div class="form-group">
        <label for="studentAdresse">Adresse *</label>
        <textarea 
          id="studentAdresse" 
          formControlName="adresse" 
          placeholder="Votre adresse complète"
          rows="3"></textarea>
      </div>

      <!-- Section Parent -->
      <div class="parent-section">
        <h3>Informations du parent</h3>
        <div class="parent-choice">
          <button 
            type="button" 
            class="choice-btn" 
            [class.active]="parentChoice === 'existing'"
            (click)="setParentChoice('existing')">
            <span class="choice-icon">👤</span>
            Compte parent déjà existant
          </button>
          <button 
            type="button" 
            class="choice-btn" 
            [class.active]="parentChoice === 'new'"
            (click)="setParentChoice('new')">
            <span class="choice-icon">➕</span>
            Nouveau compte parent
          </button>
        </div>

        <!-- Parent existant -->
        <div class="parent-existing" *ngIf="parentChoice === 'existing'">
          <div class="form-row">
            <div class="form-group">
              <label for="parentEmail">Email du parent *</label>
              <input 
                type="email" 
                id="parentEmail" 
                formControlName="parentEmail" 
                placeholder="Email du parent">
            </div>
            
            <div class="form-group">
              <label for="parentNom">Nom du parent *</label>
              <input 
                type="text" 
                id="parentNom" 
                formControlName="parentNom" 
                placeholder="Nom du parent">
            </div>
          </div>
        </div>

        <!-- Nouveau parent -->
        <div class="parent-new" *ngIf="parentChoice === 'new'">
          <div class="form-row">
            <div class="form-group">
              <label for="newParentNom">Nom du parent *</label>
              <input 
                type="text" 
                id="newParentNom" 
                formControlName="newParentNom" 
                placeholder="Nom du parent">
            </div>
            
            <div class="form-group">
              <label for="newParentPrenom">Prénom du parent *</label>
              <input 
                type="text" 
                id="newParentPrenom" 
                formControlName="newParentPrenom" 
                placeholder="Prénom du parent">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="newParentTele">Téléphone du parent *</label>
              <input 
                type="tel" 
                id="newParentTele" 
                formControlName="newParentTele" 
                placeholder="Téléphone du parent">
            </div>
            
            <div class="form-group">
              <label for="newParentEmail">Email du parent *</label>
              <input 
                type="email" 
                id="newParentEmail" 
                formControlName="newParentEmail" 
                placeholder="Email du parent">
            </div>
          </div>

          <div class="form-group">
            <label for="nombreEnfants">Nombre d'enfants *</label>
            <select id="nombreEnfants" formControlName="nombreEnfants">
              <option value="">Sélectionner</option>
              <option value="1">1 enfant</option>
              <option value="2">2 enfants</option>
              <option value="3">3 enfants</option>
              <option value="4">4 enfants</option>
              <option value="5+">5 enfants ou plus</option>
            </select>
          </div>
        </div>

        <!-- Bouton d'inscription parent -->
        <div class="parent-submit-section">
          <button type="button" class="parent-submit-btn" (click)="onParentSubmit()">
            <span class="btn-icon">👨‍👩‍👧‍👦</span>
            S'inscrire en tant que parent
          </button>
        </div>
      </div>

      <button type="submit" class="submit-btn">
        <span class="btn-icon">✅</span>
        S'inscrire en tant qu'étudiant
      </button>
    </form>
  </div>

  <!-- Formulaire Enseignant -->
  <div class="form-container" *ngIf="activeTab === 'teacher'">
    <form [formGroup]="teacherForm" (ngSubmit)="onTeacherSubmit()" class="subscription-form">
      <h2>Inscription Enseignant</h2>
      
      <div class="form-row">
        <div class="form-group">
          <label for="teacherNom">Nom *</label>
          <input 
            type="text" 
            id="teacherNom" 
            formControlName="nom" 
            placeholder="Votre nom">
        </div>
        
        <div class="form-group">
          <label for="teacherPrenom">Prénom *</label>
          <input 
            type="text" 
            id="teacherPrenom" 
            formControlName="prenom" 
            placeholder="Votre prénom">
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="teacherDateNaissance">Date de naissance *</label>
          <input 
            type="date" 
            id="teacherDateNaissance" 
            formControlName="dateNaissance">
        </div>
        
        <div class="form-group">
          <label for="teacherSexe">Sexe *</label>
          <select id="teacherSexe" formControlName="sexe">
            <option value="">Sélectionner</option>
            <option value="M">Masculin</option>
            <option value="F">Féminin</option>
          </select>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="teacherNationalite">Nationalité *</label>
          <input 
            type="text" 
            id="teacherNationalite" 
            formControlName="nationalite" 
            placeholder="Votre nationalité">
        </div>
        
        <div class="form-group">
          <label for="teacherTele">Téléphone *</label>
          <input 
            type="tel" 
            id="teacherTele" 
            formControlName="tele" 
            placeholder="Votre numéro de téléphone">
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="teacherEmail">Email *</label>
          <input 
            type="email" 
            id="teacherEmail" 
            formControlName="email" 
            placeholder="Votre email">
        </div>
        
        <div class="form-group">
          <label for="teacherFiliere">Filière *</label>
          <select id="teacherFiliere" formControlName="filiere">
            <option value="">Sélectionner</option>
            <option value="mathematiques">Mathématiques</option>
            <option value="physique">Physique</option>
            <option value="chimie">Chimie</option>
            <option value="biologie">Biologie</option>
            <option value="francais">Français</option>
            <option value="anglais">Anglais</option>
            <option value="arabe">Arabe</option>
            <option value="histoire">Histoire</option>
            <option value="geographie">Géographie</option>
            <option value="philosophie">Philosophie</option>
            <option value="informatique">Informatique</option>
            <option value="autres">Autres</option>
          </select>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="teacherMatiere">Matière principale *</label>
          <input 
            type="text" 
            id="teacherMatiere" 
            formControlName="matiere" 
            placeholder="Votre matière principale">
        </div>
        
        <div class="form-group">
          <label for="teacherAdresse">Adresse *</label>
          <textarea 
            id="teacherAdresse" 
            formControlName="adresse" 
            placeholder="Votre adresse complète"
            rows="3"></textarea>
        </div>
      </div>

      <button type="submit" class="submit-btn">
        <span class="btn-icon">✅</span>
        S'inscrire en tant qu'enseignant
      </button>
    </form>
  </div>
</div> 